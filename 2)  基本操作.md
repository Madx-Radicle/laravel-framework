# 基本操作

## 目录
* [介绍](#介绍)
* [实例](#实例)

## 介绍

上一篇我们下载下来的example-app是开发员的workspace(以下皆称作App)。App是建立在Core之上，也可以说成App是子类(child),而Core是父类(parent),两者是继承(inheritance)关系。

Core的部分，开发员只能调用而不能改动。打开example-app/composer.json。
```sh
{
    "name": "laravel/laravel",
    "type": "project",
    "description": "The Laravel Framework.",
    "keywords": ["framework", "laravel"],
    "license": "MIT",
    "require": {
        "php": "^7.3|^8.0",
        "fruitcake/laravel-cors": "^2.0",
        "guzzlehttp/guzzle": "^7.0.1",
        "laravel/framework": "^8.75",
        "laravel/sanctum": "^2.11",
        "laravel/tinker": "^2.5"
    },
    ...
```
这里通过composer下载的Core包（"laravel/framework": "^8.75"）将被存放在vendor/文件夹。

源码取自:
<table>
  <tr><td>App</td><td>https://github.com/laravel/laravel</td></tr>
  <tr><td>Core</td><td>https://github.com/laravel/framework</td></tr>
</table>

### MVC
<img src="https://user-images.githubusercontent.com/45816141/221334980-a1a553c0-ff32-495d-ba29-9c91b48770a5.png"/>
上图是laravel MVC里的请求(request)-响应(response)流程。每当用户打开网页或提交表格时，这个流程将被执行一遍。和一般MVC不同的是router可以直接操作view。

## 实例
写个博客网站当实例。

### 步骤1: 设置DB
cpanel mysql里生成db和user,然后把资料填入env文件
```
DB_CONNECTION=mysql
DB_HOST=127.0.0.1
DB_PORT=3306
DB_DATABASE=db name
DB_USERNAME=db user name
DB_PASSWORD=db password
```

### 步骤2: 创建model和生成migration file 

执行创建model
```sh
# -m 指创建migration file
$ php artisan make:model Post -m
```
这里将生成两个文件，分别为
- app/Models/Post.php
- database/migrations/2023_02_25_154358_create_posts_table.php
当然你的create_posts_table.php的日期将不同于我。

打开create_posts_table.php，更新源码成以下。
```sh
...
public function up()
{
    Schema::create('posts', function (Blueprint $table) {
        $table->id();
        $table->string('title');
        $table->text('description');
        $table->timestamps();
    });
}
...
```
